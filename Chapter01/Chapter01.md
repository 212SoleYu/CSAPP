# Chapter01 计算机系统漫游

## 1.1 信息就是位+上下文

程序是文本，即为01串，8位为1字节byte

## 1.2 程序被其他程序翻译成不同的格式

C语言的语句要被翻译成机器指令，指令按照**可执行目标程序executable object program**的格式保存并存储在磁盘。

程序由源程序到可执行文件经历了**预处理-编译-汇编-链接**四个步骤

预处理阶段：处理源代码中的#include #define #if等指令，删除注释，添加行号等标识，实质上是**文本替换**

编译：将高级程序语言转换为汇编指令

汇编：将汇编语言转化为机器码

链接：将机器码进行地址重定位，生成可执行文件

## 1.3 了解编译系统如何工作是大有益处的

1. 优化程序性能，比如优化循环
2. 理解**链接**时出现的错误：符号解析？强弱规则？
3. 避免安全漏洞

## 1.4 处理器读并解释储存在在存储器中的指令

Unix系统的shell执行

### 1.4.1 系统的硬件构成

CPU（ALU），I/O，内存，硬盘存储，总线

总线：它携带信息字节并负责在各个部件间传递。通常总线被设计成传送定长的字节块，也就是**字**word。字中的字节数（字长）时一个系统的基本参数。为了便于描述，我们假设字长为4字节（32比特），并且假设总线一次只传1个字。

I/O设备：每个IO设备都是通过一个控制器或者适配器与IO总线连接起来的。二者的功能时在IO总线和IO设备之间传递信息。

主存：临时存储设备，物理上是由DRAM（动态随机存取存储器）组成，逻辑上是一个线性的字节数组，每个字节都有唯一地址。

处理器：CPU中央处理单元，解释或者执行指令的引擎。处理器的核心是**程序计数器PC的字长的大小的存储设备或寄存器。**PC时刻指向某条指令（的地址）。

### 1.4.2 执行hello程序

## 1.5 高速缓存Cache

## 1.6 形成层次结构的存储设备

寄存器-L1-L2-主存-磁盘-远程二级存储（分布式文件系统）

## 1.7 操作系统管理硬件

操作系统的功能：管理硬件资源防止被滥用：为应用程序提供硬件资源的调用接口。

### 1.7.1 进程

晋城市操作系统对运行程序的一种抽象。可以让程序认为能够独占硬件。多个进程可以并发使用。有关系统调用

### 1.7.2 线程

轻量级进程，并行

### 1.7.3 虚拟存储器

一个抽象概念，每个进程看到的存储器都是一致的，称为**虚拟地址空间**。由低地址向高地址有**程序代码和数据、堆、共享库、栈、内核虚拟存储器**

### 1.7.4 文件

文件时字节序列，Unix系统将一切都视作文件。

## 1.8 利用网络系统和其他系统通信

telnet示例，网络编程

## 1.9 下一步

## 1.10 小结

计算机信息表示、处理器以及存储的层次结构、操作系统、网络编程，是本书的四大部分
